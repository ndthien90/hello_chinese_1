<!DOCTYPE html><html lang="vi"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S·∫Øp x·∫øp t·ª´ ti·∫øng Trung</title>
    <style>
:root {
    --bg-color: #f0f0f0;
    --container-bg: white;
    --text-color: black;
    --border-color: #007bff;
    --button-bg: #007bff;
    --button-hover: #0056b3;
    --word-border: #007bff;
    --word-hover-bg: #4CAF50;
    --word-hover-text: white;
}

[data-theme="dark"] {
    --bg-color: #1a1a1a;
    --container-bg: #2d2d2d;
    --text-color: #ffffff;
    --border-color: #4a9eff;
    --button-bg: #4a9eff;
    --button-hover: #2d8bff;
    --word-border: #4a9eff;
    --word-hover-bg: #45a049;
    --word-hover-text: #ffffff;
}


.theme-toggle {
    width: 40px;
    min-width: 40px;
    height: 40px;
    border-radius: 50%;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    cursor: pointer;
}


        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        .container {
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 600px;
            min-height: 550px;
            width: 100%;
            background-color: var(--container-bg);
        }
        h1 {
            font-family: Arial, sans-serif;
            margin-bottom: 20px;
            color: #f26a02;
            font-size: 25px;
        }
        #studentName {
            font-family: Arial, sans-serif;
            font-size: 24px;
            border: 2px solid #007bff;
            padding: 10px;
            border-radius: 5px;
            width: 90%;
            margin: 10px auto;
            display: none;
            color: var(--text-color);
            border-color: var(--border-color);
            background-color: var(--container-bg);
        }
        select {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 16px;
            background-color: var(--container-bg);
            color: var(--text-color);
            border-color: var(--border-color);
        }
        #lessonSelect {
            width: calc(60% - 24px);
            margin: 10px 0;
        }
        #modeSelect {
            width: 120px;
            margin-right: 10px;
            display:none;
        }
        .control-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            transition: background-color 0.3s, transform 0.3s;
            min-width: 120px;
            background-color: var(--button-bg);
        }
        button:hover {
            transform: translateY(-2px);
            background-color: var(--button-hover);
        }
        #wordContainer {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 10px 0;
        }
        .word {
            background-color: transparent;
            margin: 5px;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 20px;
            transition: background-color 0.3s;
            border: 2px dashed #007bff;
           border-color: var(--word-border);
           color: var(--text-color);
        }
        .word:hover {
           background-color: var(--word-hover-bg);
           color: var(--word-hover-text);
        }
        #result, #message {
            margin-top: 20px;
            font-size: 25px;
        }
        #result {
            font-family: 'Ê•∑‰Ωì', sans-serif;
            font-size: 35px;
            color: #fa2c02;
        }
        .progress-container {
            width: 100%;
            height: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
            background-color: var(--bg-color);
        }
        .progress-bar {
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.3s ease;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 0 auto;
            font-size: 16px;
            background-color: transparent;
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #007bff;
            color: white;
        }
        .stat-item {
            background-color: #22a4e0;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 5px 5px rgba(0,0,0,0.1);
            max-width: 150px;
            min-width: 120px
        }
    </style>
</head>
<body>    <div class="container">
        <h1>X·∫øp t·ª´ th√†nh c√¢u</h1>
        <select id="lessonSelect" onchange="loadLesson()">
            <option value="lesson1">B√†i 1: ËÄÅÂ∏àÊÇ®Â•ΩÔºÅEm ch√†o th·∫ßy ·∫°!</option>
        </select>
<div class="control-row">
    <select id="modeSelect" onchange="changeMode()">
        <option value="study">T·ª± h·ªçc</option>
        <option value="test">Ki·ªÉm tra</option>
    </select>
    <button onclick="startNewGame()">B·∫Øt ƒë·∫ßu</button>
    <button onclick="toggleTheme()" id="themeToggle" class="theme-toggle">üåô</button>
</div>
        <div class="stats">
            <div class="stat-item">C√¢u: <span id="questionCount">0/0</span></div>
            <div class="stat-item">Ch√≠nh x√°c: <span id="accuracyRate">0%</span></div>
        </div>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div id="studentName">T√™n h·ªçc sinh</div>
        <div id="wordContainer"></div>
        <div id="result"></div>
        <div id="message"></div>
        <button onclick="nextQuestion()" id="nextButton" style="display: none;">C√¢u ti·∫øp theo</button>
        <button onclick="resetGame()" id="resetButton" style="display: none;">Th·ª≠ l·∫°i</button>
    </div>

    <script>
        const lessonData = {
  lesson1: [
    "‰Ω†/Â•Ω/„ÄÇ",
    "ÂÜç/ËßÅ/„ÄÇ",
    "ËÄÅÂ∏àÔºå/ÊÇ®/Â•Ω„ÄÇ",
    "‰Ω†/Â•Ω/ÂêóÔºü",
    "Ëøô/ÊòØ/‰π¶/ÂêóÔºü",
    "Ëøô/‰∏ç/ÊòØ/‰π¶„ÄÇ",
    "ÈÇ£/ÊòØ/ÈôàÊ•†„ÄÇ",
    "‰Ω†/ÊòØ/Â≠¶Áîü/ÂêóÔºü",
    "‰∏çÊòØÔºå/Êàë/ÊòØ/ËÄÅÂ∏à„ÄÇ",
    "ÂõΩÂÆâÔºå/‰Ω†/Â•Ω„ÄÇ",
    "ÂõΩÂÆâ/‰∏ç/ÊòØ/ËÄÅÂ∏à„ÄÇ",
    "Êàë/Âæà/Â•Ω„ÄÇ"
  ],
  lesson2: [
    "‰Ω†/Âè´/‰ªÄ‰πà/ÂêçÂ≠óÔºü",
    "Êàë/Âè´/ÈòÆÊñáÊòé/Ôºå‰Ω†/Âë¢Ôºü",
    "‰Ω†/Â•Ω/ÂêóÔºü",
    "‰Ω†/ÊúÄËøë/ÊÄé‰πàÊ†∑Ôºü",
    "‰Ω†/ÊúÄËøë/Â•Ω/ÂêóÔºü",
    "‰∏Ä/Âàá/ÈÉΩ/Â•Ω",
    "Ëøô/ÊòØ/Êàë/ÁöÑ/Áà∏Áà∏„ÄÇ",
    "ÈÇ£/ÊòØ/Êàë/ÁöÑ/ÂºüÂºü„ÄÇ",
    "Ëøô/‰∏ç/ÊòØ/Êàë/ÁöÑ/ËÄÅÂ∏à„ÄÇ",
    "ÈÇ£/ÊòØ/‰Ω†/ÁöÑ/Âì•Âì•/ÂêóÔºü"
  ],
  lesson3: [
    "‰Ω†/Êúâ/ÂºüÂºü/ÂêóÔºü",
    "‰ªñ/Âè™/Êúâ/‰∏Ä/‰∏™/Â¶πÂ¶π„ÄÇ",
    "‰ªñ/ÊúâÊ≤°Êúâ/ÂßêÂßêÔºü",
    "‰Ω†/Êúâ/ÂÖÑÂºü/ÂßêÂ¶π/ÂêóÔºü",
    "Êàë/Êúâ/‰∏Ä/‰∏™/ÂºüÂºü/Âíå/‰∏Ä/‰∏™/Â¶πÂ¶π„ÄÇ",
    "Êàë/Ê≤°Êúâ/Âì•Âì•Ôºå/Êàë/Âè™/Êúâ/‰∏Ä/‰∏™/ÂºüÂºü„ÄÇ",
    "‰ªñ/Ê≤°Êúâ/Âì•Âì•Ôºå/Êàë/‰πü/Ê≤°Êúâ/Âì•Âì•„ÄÇ",
    "Êàë/Ê≤°Êúâ/ÂÖÑÂºüÂßêÂ¶πÔºå/Êàë/ÊòØ/Áã¨ÁîüÂ≠ê„ÄÇ",
    "‰Ω†/ÂÆ∂/Êúâ/Âá†Âè£‰∫∫Ôºü",
    "Êàë/ÂÆ∂/Êúâ/ÂõõÂè£‰∫∫Ôºö/Áà∏Áà∏Ôºå/Â¶àÂ¶àÔºå/ÂºüÂºü/Âíå/Êàë„ÄÇ",
    "‰Ω†/‰ªäÂπ¥/Â§öÂ§ßÔºü",
    "‰ªñ/‰ªäÂπ¥/‰∏âÂçÅ‰∫î/Â≤Å„ÄÇ",
    "‰ªñ/ÂÅö/‰ªÄ‰πà/Â∑•‰ΩúÔºü",
    "Êàë/ÂºüÂºü/ÊòØ/Â≠¶ÁîüÔºå/Êàë/ÂßêÂßê/ÊòØ/ËÄÅÂ∏à„ÄÇ",
    "‰ªñ/‰∏ç/Â∑•‰ΩúÔºå/‰ªñ/ÊòØ/Â≠¶Áîü„ÄÇ",
    "‰ªñ/Âì•Âì•/Âú®/Â§±‰∏ö„ÄÇ",
    "ÊàëÂíå‰ªñ/ÁöÑ/Â¶àÂ¶à/ÈÉΩ/ÊòØ/ÂåªÁîü„ÄÇ",
    "Êàë/Âì•Âì•/ÊòØ/ÂÖ¨ÂÆâÔºå/‰ªñ/Âì•Âì•/ÊòØ/ÈÉ®Èòü„ÄÇ",
    "Êàë/Áà∑Áà∑/‰∏ç/Â∑•‰ΩúÔºå/‰ªñ/ÈÄÄ‰ºë/‰∫Ü„ÄÇ"
  ],

};

        const students = [
            'Nguy·ªÖn ƒê·ª©c Th√†nh', 'Nguy·ªÖn Kh√°nh Ph∆∞∆°ng', 'Nguy·ªÖn Ph∆∞∆°ng Nhi',
            'Nghi√™m Di·ªáu Linh', 'Nguy·ªÖn Minh H·∫±ng', 'Nguy·ªÖn ƒê·ª©c Trung',
            'Ho√†ng Minh Th√°i', 'Nguy·ªÖn ƒê·ª©c B·∫£o Phong', 'T·∫° Th·ªã Ng·ªçc Anh',
            'V∆∞∆°ng Thanh H√†', 'Ho√†ng Tu·∫•n Th√†nh', 'Nguy·ªÖn Th·ªã Trang',
            'Ho√†ng Th·∫ø Anh Qu√¢n', 'Tr·ªãnh C√¥ng Minh', 'Tr·ªãnh Anh Ki·ªát'
        ];

        let originalSentence = '';
        let shuffledWords = [];
        let userSentence = [];
        let currentLessonSentences = [];
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let totalQuestions = 0;
        let totalAnswers = 0;
        let currentMode = 'study';
// Th√™m v√†o ph·∫ßn script hi·ªán c√≥
function toggleTheme() {
    const html = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    
    if (html.getAttribute('data-theme') === 'dark') {
        html.removeAttribute('data-theme');
        themeToggle.textContent = 'üåô';
        localStorage.setItem('theme', 'light');
    } else {
        html.setAttribute('data-theme', 'dark');
        themeToggle.textContent = '‚òÄÔ∏è';
        localStorage.setItem('theme', 'dark');
    }
}
        function changeMode() {
            currentMode = document.getElementById('modeSelect').value;
            const studentNameElement = document.getElementById('studentName');
            studentNameElement.style.display = currentMode === 'test' ? 'inline-block' : 'none';
        }
        function loadLesson() {
            const lessonSelect = document.getElementById('lessonSelect');
            const selectedLesson = lessonSelect.value;
            currentLessonSentences = [...lessonData[selectedLesson]];
            currentQuestionIndex = 0;
            correctAnswers = 0;
            totalAnswers = 0;
            totalQuestions = currentLessonSentences.length;
            updateStats();
        }

        function startNewGame() {
            loadLesson();
            showNextQuestion();
            document.getElementById('nextButton').style.display = 'none';
            document.getElementById('resetButton').style.display = 'inline-block';
            updateProgressBar();

            if (currentMode === 'test') {
                let interval;
                const duration = 1000;
                const endTime = Date.now() + duration;
                const studentNameDisplay = document.getElementById('studentName');
                
                interval = setInterval(() => {
                    const randomStudent = students[Math.floor(Math.random() * students.length)];
                    studentNameDisplay.textContent = randomStudent;
                    
                    if (Date.now() >= endTime) {
                        clearInterval(interval);
                        const finalStudent = students[Math.floor(Math.random() * students.length)];
                        studentNameDisplay.textContent = finalStudent;
                    }
                }, 50);
            }
        }

        function showNextQuestion() {
            if (currentQuestionIndex < currentLessonSentences.length) {
                originalSentence = currentLessonSentences[currentQuestionIndex];
                separateAndShuffleWords();
                updateStats();
                updateProgressBar();
            } else {
                finishLesson();
            }
        }

        function separateAndShuffleWords() {
            let words = originalSentence.split('/').filter(word => word.trim() !== '');
            
            shuffledWords = [...words];
            for (let i = shuffledWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledWords[i], shuffledWords[j]] = [shuffledWords[j], shuffledWords[i]];
            }

            userSentence = [];
            displayWords();
            document.getElementById('result').textContent = '';
            document.getElementById('message').textContent = '';
        }

        function displayWords() {
            const wordContainer = document.getElementById('wordContainer');
            wordContainer.innerHTML = '';
            shuffledWords.forEach(word => {
                const wordElement = document.createElement('span');
                wordElement.className = 'word';
                wordElement.textContent = word;
                wordElement.onclick = () => addToSentence(word);
                wordContainer.appendChild(wordElement);
            });
        }

        function addToSentence(word) {
            userSentence.push(word);
            document.getElementById('result').textContent = userSentence.join('');
            removeWord(word);
            if (shuffledWords.length === 0) {
                checkSentence();
            }
        }

        function removeWord(word) {
            const index = shuffledWords.indexOf(word);
            if (index > -1) {
                shuffledWords.splice(index, 1);
            }
            displayWords();
        }

        function checkSentence() {
            const message = document.getElementById('message');
            const isCorrect = userSentence.join('') === originalSentence.replace(/\//g, '');
            
            if (isCorrect) {
                
                document.getElementById('resetButton').style.display = 'none';
                message.textContent = 'Ch√∫c m·ª´ng! B·∫°n ƒë√£ s·∫Øp x·∫øp ƒë√∫ng.';
                message.style.color = 'green';
                correctAnswers++;
                currentQuestionIndex++;
            } else {
                message.textContent = 'Ch∆∞a ƒë√∫ng!';
                message.style.color = 'red';
            }
            
            totalAnswers++;
            updateStats();
            updateProgressBar();
            document.getElementById('nextButton').style.display = 'inline-block';
            if (correctAnswers === currentLessonSentences.length) {
                finishLesson();
               document.getElementById('nextButton').style.display = 'none';
               document.getElementById('resetButton').style.display = 'none';
           };

        }

        function nextQuestion() {
            if (currentQuestionIndex < currentLessonSentences.length) {
                showNextQuestion();
                document.getElementById('nextButton').style.display = 'none';
               document.getElementById('resetButton').style.display = 'inline-block';
            } else {
                finishLesson();
            }
        }

        function updateStats() {
            const questionCountElement = document.getElementById('questionCount');
            const accuracyRateElement = document.getElementById('accuracyRate');
            
            questionCountElement.textContent = `${currentQuestionIndex}/${totalQuestions}`;
            const accuracy = currentQuestionIndex > 0 
                ? Math.round((correctAnswers / totalAnswers) * 100) 
                : 0;
            accuracyRateElement.textContent = `${accuracy}%`;
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            const progress = (currentQuestionIndex / totalQuestions) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function finishLesson() {
            const container = document.getElementById('wordContainer');
            container.innerHTML = `
                <h2>B√†i h·ªçc ho√†n th√†nh!</h2>
            `;
            document.getElementById('nextButton').style.display = 'none';
            document.getElementById('resetButton').style.display = 'none';
        }

        function resetGame() {
            /*currentQuestionIndex = 0;
            correctAnswers = 0;
            loadLesson();
            showNextQuestion();
            document.getElementById('resetButton').style.display = 'none';*/
            separateAndShuffleWords();

        }

        // Load initial lesson data
        loadLesson();
// Th√™m ƒëo·∫°n n√†y v√†o cu·ªëi file script ƒë·ªÉ kh√¥i ph·ª•c theme ƒë√£ l∆∞u
document.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme');
    const themeToggle = document.getElementById('themeToggle');
    
    if (savedTheme === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeToggle.textContent = '‚òÄÔ∏è';
    } else {
        themeToggle.textContent = 'üåô';
    }
});
    </script>


</body></html>
